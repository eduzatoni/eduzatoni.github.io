<!DOCTYPE html>
<html>
<head>
    <title>Web Push Training</title>
    <script
        src="https://code.jquery.com/jquery-1.12.4.js"
        integrity="sha256-Qw82+bXyGq6MydymqBxNPYTaUXXq7c8v3CwiYwLLNXU="
        crossorigin="anonymous">
    </script>
    <script
        src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"
        integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30="
        crossorigin="anonymous">
    </script>
    <script src="https://redirector.gservice.emarsys.net/ui/latest/js/app.js"></script>
    <link rel='stylesheet' href='https://redirector.gservice.emarsys.net/ui/latest/css/app.css'>
    <link rel='stylesheet' href='style.css'>
</head>
    <body>
      <header class="header">
        <div class="e-container">
          <div class="e-box">
            <h1>
              Web Push Training
            </h1>
            <p>
              <button class="e-btn e-btn-secondary" onclick="#">Subscribe</button>
            </p>
            <p>
              <div>
                <form id="loginForm">
                  <input class="e-input e-input-small" type="text" name="contactFieldId" placeholder="Field ID">
                  <input class="e-input e-input-large" type="text" name="contactFieldValue" placeholder="Contact value">
                  <button id="loginButton" class="e-btn e-btn-primary" type="submit">Set Contact</button>
                </form>
              </div>
            </p>
            <p>
              <div>
                <form id="customEventForm">
                  <input class="e-input e-input-large" type="text" name="customEvent" placeholder="Custom event">
                  <button id="loginButton" class="e-btn e-btn-primary" type="submit">Track Custom Event</button>
                </form>
              </div>
            </p>
          </div>
        </div>
        <div id="footer">
        </div>
      </header>

      <script>
        $('#loginForm').submit(function(e) {
          e.preventDefault();
          const fieldId = $('#loginForm input[name="contactFieldId"]').val()
          const fieldValue = $('#loginForm input[name="contactFieldValue"]').val()
          const contactInfo = { 
            fieldId: Number(fieldId), 
            fieldValue: fieldValue
          }
          console.log('Contact Info: ' + JSON.stringify(contactInfo))
          // WebEmarsysSdk.login(contactInfo);
        })

        $('#customEventForm').submit(function(e) {
          e.preventDefault();
          const customEvent = $('#customEventForm input[name="customEvent"]').val()
          console.log('Custom Event: ' + customEvent)
          // WebEmarsysSdk.trackCustomEvent(customEvent)
        })

        function subscribe() {
          // WebEmarsysSdk.subscribe();
        }
      </script>
    </body>
</html>
